var app=angular.module("mcrrcApp",["mcrrcApp.members","mcrrcApp.results","mcrrcApp.authentication","restangular","dialogs.main","ui.bootstrap","ui.grid","ui.select","ngSanitize","ui.router","appRoutes"]),membersModule=angular.module("mcrrcApp.members",[]),resultsModule=angular.module("mcrrcApp.results",[]),authenticationModule=angular.module("mcrrcApp.authentication",[]);app.run(["$http","AuthService","Restangular",function($http,AuthService,Restangular){Restangular.setBaseUrl("/api/"),Restangular.setRestangularFields({id:"_id"}),$http.get("/api/login").success(function(data){AuthService.setUser(data.user)}).error(function(data){$scope.message=data[0],$state.go("/login")})}]),angular.module("mcrrcApp.results").controller("MainController",["$scope","AuthService",function(){}]),angular.module("mcrrcApp.results").controller("AdminController",["$scope","AuthService","ResultsService",function($scope,AuthService,ResultsService){$scope.user=AuthService.isLoggedIn(),ResultsService.getRaceTypes({sort:"meters"}).then(function(raceTypes){$scope.racetypesList=raceTypes}),$scope.showAddRaceTypeModal=function(){ResultsService.showAddRaceTypeModal().then(function(racetype){$scope.racetypesList.push(racetype)})},$scope.retrieveRaceTypeForEdit=function(racetype){ResultsService.retrieveRaceTypeForEdit(racetype).then(function(){})},$scope.removeRaceType=function(racetype){ResultsService.deleteRaceType(racetype).then(function(){var index=$scope.racetypesList.indexOf(racetype);index>-1&&$scope.racetypesList.splice(index,1)})}}]),angular.module("mcrrcApp.results").controller("RaceTypeModalInstanceController",["$scope","$modalInstance","racetype",function($scope,$modalInstance,racetype){$scope.editmode=!1,racetype?($scope.formData=racetype,$scope.editmode=!0):($scope.formData={},$scope.editmode=!1),$scope.surfaces=["road","track","cross country","ultra","other"],$scope.addRaceType=function(){$modalInstance.close($scope.formData)},$scope.editRaceType=function(){$modalInstance.close($scope.formData)},$scope.cancel=function(){$modalInstance.dismiss("cancel")}}]),angular.module("mcrrcApp.authentication").controller("LoginController",["$scope","$http","$state","AuthService",function($scope,$http,$state,AuthService){$http({url:"/api/login",method:"GET"}).success(function(data){$scope.message=data.message}),$scope.login=function(user){$http.post("/api/login",user).success(function(data){AuthService.setUser(data.user),window.location.href="/"}).error(function(data){$scope.message=data[0],$state.go("/login")})}}]),angular.module("mcrrcApp.members").controller("MembersController",["$scope","$http","AuthService","MembersService","ResultsService","dialogs",function($scope,$http,AuthService,MembersService,ResultsService,dialogs){$scope.user=AuthService.isLoggedIn(),$scope.membersList=[],$scope.query="",$scope.paramModel={},$scope.paramModel.sex=".*",$scope.paramModel.category=".*",$scope.paramModel.limit="",$scope.paramModel.memberStatus="current",$scope.adminDivisCollapsed=!0,$scope.adminEditMode=!1,$scope.open=function($event){$event.preventDefault(),$event.stopPropagation(),$scope.opened=!0},$scope.showAddMemberModal=function(){MembersService.showAddMemberModal().then(function(member){null!==member&&$scope.membersList.push(member)})},$scope.retrieveMemberForEdit=function(member){MembersService.retrieveMemberForEdit(member).then(function(){})},$scope.removeMember=function(member){var dlg=dialogs.confirm();dlg.result.then(function(){MembersService.deleteMember(member).then(function(){var index=$scope.membersList.indexOf(member);index>-1&&$scope.membersList.splice(index,1)})},function(){})},$scope.setMember=function(member){ResultsService.getResults({limit:20,sort:"-racedate",member:member}).then(function(results){$scope.currentMemberResultList=results}),$scope.currentMember=member},$scope.getMembers=function(){var params={"filters[sex]":$scope.paramModel.sex,"filters[category]":$scope.paramModel.category,"filters[memberStatus]":$scope.paramModel.memberStatus,limit:$scope.paramModel.limit};MembersService.getMembers(params).then(function(members){$scope.membersList=members})},$scope.retrieveResultForEdit=function(result){ResultsService.retrieveResultForEdit(result).then(function(){})};var defaultParams={"filters[sex]":$scope.paramModel.sex,"filters[category]":$scope.paramModel.category,"filters[memberStatus]":$scope.paramModel.memberStatus,limit:$scope.paramModel.limit};MembersService.getMembers(defaultParams).then(function(members){$scope.membersList=members})}]),angular.module("mcrrcApp.members").controller("MemberModalInstanceController",["$scope","$modalInstance","member",function($scope,$modalInstance,member){$scope.editmode=!1,member?($scope.formData=member,$scope.editmode=!0):($scope.formData={memberStatus:!0},$scope.editmode=!1,$scope.formData.dateofbirth=new Date),$scope.addMember=function(){$modalInstance.close($scope.formData)},$scope.editMember=function(){$modalInstance.close($scope.formData)},$scope.cancel=function(){$modalInstance.dismiss("cancel")},$scope.open=function($event){$event.preventDefault(),$event.stopPropagation(),$scope.opened=!0}}]),angular.module("mcrrcApp.authentication").controller("ProfileController",function($scope,$http){$http({url:"/api/profile",method:"GET"}).success(function(data){$scope.user=data.user})}),angular.module("mcrrcApp.results").controller("RecordsController",["$scope","AuthService","ResultsService","$http",function($scope,AuthService,ResultsService){$scope.user=AuthService.isLoggedIn(),$scope.paramModel={},$scope.paramModel.sex=".*",$scope.paramModel.category=".*",$scope.paramModel.mode="All",$scope.paramModel.sort="time",$scope.paramModel.racetype="",$scope.paramModel.limit=5,ResultsService.getRaceTypes({sort:"meters"}).then(function(racetypes){$scope.racetypesList=racetypes}),$scope.getResults=function(){if(""!==$scope.paramModel.racetype){var params={filters:{sex:$scope.paramModel.sex,category:$scope.paramModel.category,mode:$scope.paramModel.mode,racetype:$scope.paramModel.racetype},limit:$scope.paramModel.limit,sort:$scope.paramModel.sort};ResultsService.getResults(params).then(function(results){$scope.resultsList=results})}},$scope.retrieveResultForEdit=function(result){ResultsService.retrieveResultForEdit(result).then(function(){})}}]),angular.module("mcrrcApp.results").controller("ResultsController",["$scope","AuthService","ResultsService","dialogs",function($scope,AuthService,ResultsService,dialogs){$scope.user=AuthService.isLoggedIn(),$scope.resultsList=[],ResultsService.getResults({limit:15,sort:"-racedate"}).then(function(results){$scope.resultsList=results}),$scope.showAddResultModal=function(){ResultsService.showAddResultModal().then(function(result){null!==result&&$scope.resultsList.push(result)})},$scope.retrieveResultForEdit=function(result){ResultsService.retrieveResultForEdit(result).then(function(){})},$scope.removeResult=function(result){var dlg=dialogs.confirm();dlg.result.then(function(){ResultsService.deleteResult(result).then(function(){var index=$scope.resultsList.indexOf(result);index>-1&&$scope.resultsList.splice(index,1)})},function(){})}}]),angular.module("mcrrcApp.results").controller("ResultModalInstanceController",["$scope","$modalInstance","result","MembersService","ResultsService",function($scope,$modalInstance,result,MembersService,ResultsService){MembersService.getMembers().then(function(members){$scope.membersList=members}),ResultsService.getRaceTypes().then(function(racetypes){$scope.racetypesList=racetypes}),$scope.editmode=!1,result?($scope.formData=result,$scope.editmode=!0,$scope.formData.dateofbirth=new Date,$scope.nbOfMembers=result.member.length,$scope.time={},$scope.time.hours=Math.floor($scope.formData.time/3600),$scope.time.minutes=Math.floor($scope.formData.time/60)%60,$scope.time.seconds=$scope.formData.time%60):($scope.formData={},$scope.formData.member=[],$scope.formData.member[0]={},$scope.nbOfMembers=1,$scope.time={},$scope.editmode=!1),$scope.addResult=function(){void 0===$scope.time.hours&&($scope.time.hours=0),void 0===$scope.time.minutes&&($scope.time.minutes=0),void 0===$scope.time.seconds&&($scope.time.seconds=0),$scope.formData.time=3600*$scope.time.hours+60*$scope.time.minutes+$scope.time.seconds;var members=$.map($scope.formData.member,function(value){return[value]});$scope.formData.member=members,$modalInstance.close($scope.formData)},$scope.editResult=function(){$scope.formData.time=3600*$scope.time.hours+60*$scope.time.minutes+$scope.time.seconds,$modalInstance.close($scope.formData)},$scope.cancel=function(){$modalInstance.dismiss("cancel")},$scope.addNbMembers=function(){$scope.nbOfMembers=$scope.formData.member.length+1,$scope.updateNbMembers()},$scope.updateNbMembers=function(){var num=$scope.nbOfMembers,size=$scope.formData.member.length;if(num>size)for(i=0;i<num-size;i++)$scope.formData.member.push({});else $scope.formData.member.splice($scope.nbOfMembers,size-$scope.nbOfMembers)},$scope.open=function($event){$event.preventDefault(),$event.stopPropagation(),$scope.opened=!0}}]),angular.module("mcrrcApp.authentication").controller("SignUpController",function($scope,$http,$state){$scope.signup=function(user){$http.post("/api/signup",user).success(function(){window.location.href="/"}).error(function(data){$scope.message=data[0],$state.go("/signup")})}});var app=angular.module("mcrrcApp");app.directive("onlyDigitsForMinSec",function(){return{require:"ngModel",restrict:"A",link:function(scope,element,attr,ctrl){function inputValue(val){if(val){var digits=val.replace(/[^0-9]/g,"");return 0>digits&&(digits="0"),digits>59&&(digits="59"),digits!==val&&(ctrl.$setViewValue(digits),ctrl.$render()),parseInt(digits,10)}return void 0}ctrl.$parsers.push(inputValue)}}}),app.directive("onlyDigits",function(){return{require:"ngModel",restrict:"A",link:function(scope,element,attr,ctrl){function inputValue(val){if(val){var digits=val.replace(/[^0-9]/g,"");return digits!==val&&(ctrl.$setViewValue(digits),ctrl.$render()),parseInt(digits,10)}return void 0}ctrl.$parsers.push(inputValue)}}}),app.directive("memberselector",function(){return{restrict:"E",transclude:!0,scope:{datamembers:"=",members:"=",index:"@"},templateUrl:"views/templates/memberDropdown.html",link:function(scope,element){scope.deleteMemberSelector=function(datamembers,index){datamembers.splice(index,1),element.remove()}}}});var app=angular.module("mcrrcApp");app.directive("resultMembersNames",function(){return{template:'<span tooltip-html-unsafe="{{result.member | membersNamesFilter}}" >{{result.member | membersNamesFilter | cut:false:25:"..."}}</span>'}});var app=angular.module("mcrrcApp");app.filter("secondsToTimeStringLong",function(){return function(sec){var hours=Math.floor(sec%86400/3600),minutes=Math.floor(sec%86400%3600/60),seconds=Math.floor(sec%86400%3600%60),timeString="";return hours>0&&(timeString+=hours>1?hours+" hours ":hours+" hour "),minutes>0&&(timeString+=minutes>1?minutes+" minutes ":minutes+" minute "),seconds>=0&&(timeString+=seconds>1?seconds+" seconds ":seconds+" second "),timeString}}),app.filter("secondsToTimeString",function(){return function(sec){var hours=Math.floor(sec%86400/3600),minutes=Math.floor(sec%86400%3600/60),seconds=Math.floor(sec%86400%3600%60);return 10>minutes&&(minutes="0"+minutes),10>seconds&&(seconds="0"+seconds),0===hours?minutes+":"+seconds:hours+":"+minutes+":"+seconds}}),app.filter("secondsToTimeDiff",function(){return function(sec){var hours=Math.floor(sec%86400/3600),minutes=Math.floor(sec%86400%3600/60),seconds=Math.floor(sec%86400%3600%60);return 10>seconds&&(seconds="0"+seconds),0===hours?minutes+":"+seconds:hours+":"+minutes+":"+seconds}}),app.filter("resultToPace",function(){return function(result){var seconds=result.time,distance=result.racetype.miles,m=Math.floor(seconds/60/distance),s=Math.round(seconds/60/distance%1*60);return 10>m&&(m="0"+m),10>s&&(s="0"+s),m+":"+s}}),app.filter("membersNamesFilter",function(){return function(members){var res="";return members.forEach(function(member){res+=member.firstname+" "+member.lastname+", "}),res=res.slice(0,-2)}}),app.filter("cut",function(){return function(value,wordwise,max,tail){if(!value)return"";if(max=parseInt(max,10),!max)return value;if(value.length<=max)return value;if(value=value.substr(0,max),wordwise){var lastspace=value.lastIndexOf(" ");-1!=lastspace&&(value=value.substr(0,lastspace))}return value+(tail||" â€¦")}}),app.filter("propsFilter",function(){return function(items,props){var out=[];return angular.isArray(items)?items.forEach(function(item){for(var itemMatches=!1,keys=Object.keys(props),i=0;i<keys.length;i++){var prop=keys[i],text=props[prop].toLowerCase();if(-1!==item[prop].toString().toLowerCase().indexOf(text)){itemMatches=!0;break}}itemMatches&&out.push(item)}):out=items,out}}),app.filter("ageFilter",function(){function calculateAge(birthday){var bd=new Date(birthday),ageDifMs=Date.now()-bd.getTime(),ageDate=new Date(ageDifMs);return Math.abs(ageDate.getUTCFullYear()-1970)}return function(birthdate){return calculateAge(birthdate)}}),app.filter("memberFilter",function(){return function(members,query){var filtered=[];return angular.forEach(members,function(member){var name=member.firstname+" "+member.lastname;-1!==name.toLowerCase().indexOf(query.toLowerCase())&&filtered.push(member)}),filtered}}),angular.module("appRoutes",[]).config(function($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/"),$stateProvider.state("/",{url:"/",templateUrl:"views/home.html",controller:"ResultsController"}).state("/members",{url:"/members",templateUrl:"views/members.html",controller:"MembersController"}).state("/login",{url:"/login",templateUrl:"views/login.html",controller:"LoginController"}).state("/signup",{url:"/signup",templateUrl:"views/signup.html",controller:"SignUpController"}).state("/profile",{url:"/profile",templateUrl:"views/profile.html",controller:"ProfileController"}).state("/admin",{url:"/admin",templateUrl:"views/admin.html",controller:"AdminController"}).state("/records",{url:"/records",templateUrl:"views/records.html",controller:"RecordsController"})}),angular.module("mcrrcApp").factory("AuthService",function(){var user,factory={};return factory.setUser=function(aUser){user=aUser},factory.isLoggedIn=function(){return user?user:!1},factory}),angular.module("mcrrcApp.members").factory("MembersService",["Restangular","$modal",function(Restangular,$modal){var factory={},members=Restangular.all("members");return factory.getMembers=function(params){return members.getList(params).then(function(members){return members})},factory.getMember=function(id){return Restangular.one("members",id).get().then(function(member){return member},function(res){console.log("Error: "+res.status)})},factory.createMember=function(member){return members.post(member).then(function(){},function(res){console.log("Error: "+res.status)})},factory.editMember=function(member){member.save()},factory.deleteMember=function(member){return member.remove().then(function(){},function(res){console.log("Error: "+res.status)})},factory.showAddMemberModal=function(){var modalInstance=$modal.open({templateUrl:"views/modals/memberModal.html",controller:"MemberModalInstanceController",size:"lg",resolve:{member:!1}});return modalInstance.result.then(function(member){return factory.createMember(member),member},function(){return null})},factory.retrieveMemberForEdit=function(member){if(member){var modalInstance=$modal.open({templateUrl:"views/modals/memberModal.html",controller:"MemberModalInstanceController",size:"lg",resolve:{member:function(){return member}}});return modalInstance.result.then(function(member){factory.editMember(member)},function(){return null})}},factory}]),angular.module("mcrrcApp.results").factory("ResultsService",["Restangular","$modal",function(Restangular,$modal){var factory={},results=Restangular.all("results"),racetypes=Restangular.all("racetypes");return factory.getResults=function(params){return results.getList(params).then(function(results){return results})},factory.createResult=function(result){return results.post(result).then(function(){},function(res){console.log("Error: "+res.status)})},factory.editResult=function(result){result.save()},factory.deleteResult=function(result){return result.remove().then(function(){},function(res){console.log("Error: "+res.status)})},factory.showAddResultModal=function(){var modalInstance=$modal.open({templateUrl:"views/modals/resultModal.html",controller:"ResultModalInstanceController",size:"lg",resolve:{result:!1}});return modalInstance.result.then(function(result){return factory.createResult(result),result},function(){return null})},factory.retrieveResultForEdit=function(result){if(result){var modalInstance=$modal.open({templateUrl:"views/modals/resultModal.html",controller:"ResultModalInstanceController",size:"lg",resolve:{result:function(){return result}}});return modalInstance.result.then(function(result){factory.editResult(result)},function(){return null})}},factory.getRaceTypes=function(params){return racetypes.getList(params).then(function(racetypes){return racetypes})},factory.createRaceType=function(racetype){return racetypes.post(racetype).then(function(){},function(res){console.log("Error: "+res.status)})},factory.editRaceType=function(racetype){racetype.save()},factory.deleteRaceType=function(racetype){return racetype.remove().then(function(){},function(res){console.log("Error: "+res.status)})},factory.showAddRaceTypeModal=function(){var modalInstance=$modal.open({templateUrl:"views/modals/raceTypeModal.html",controller:"RaceTypeModalInstanceController",size:"lg",resolve:{racetype:!1}});return modalInstance.result.then(function(racetype){return factory.createRaceType(racetype),racetype},function(){})},factory.retrieveRaceTypeForEdit=function(racetype){if(racetype){var modalInstance=$modal.open({templateUrl:"views/modals/raceTypeModal.html",controller:"RaceTypeModalInstanceController",size:"lg",resolve:{racetype:function(){return racetype}}});return modalInstance.result.then(function(racetype){factory.editRaceType(racetype)},function(){})}},factory}]),angular.module("mcrrcApp").factory("UtilsService",function(){var factory={};return factory.calculateAge=function(birthday){var bd=new Date(birthday),ageDifMs=Date.now()-bd.getTime(),ageDate=new Date(ageDifMs);return Math.abs(ageDate.getUTCFullYear()-1970)},factory}),!function(){"use strict";var a=angular.module("translate.sub",[]);a.provider("$translate",[function(){var a=[],n="en-US";this.translations=function(e,s){angular.isDefined(e)&&angular.isDefined(s)&&(a[e]=angular.copy(s),n=e)},this.$get=[function(){return{instant:function(e){return angular.isDefined(e)&&angular.isDefined(a[n][e])?a[n][e]:""}}}]}]),a.filter("translate",["$translate",function(a){return function(n){return a.instant(n)}}]);var n;try{angular.module("pascalprecht.translate"),n=angular.module("dialogs.controllers",["ui.bootstrap.modal","pascalprecht.translate"])}catch(e){n=angular.module("dialogs.controllers",["ui.bootstrap.modal","translate.sub"])}n.controller("errorDialogCtrl",["$scope","$modalInstance","$translate","data",function(a,n,e,s){a.header=angular.isDefined(s.header)?s.header:e.instant("DIALOGS_ERROR"),a.msg=angular.isDefined(s.msg)?s.msg:e.instant("DIALOGS_ERROR_MSG"),a.icon=angular.isDefined(s.fa)&&angular.equals(s.fa,!0)?"fa fa-warning":"glyphicon glyphicon-warning-sign",a.close=function(){n.close(),a.$destroy()}}]),n.controller("waitDialogCtrl",["$scope","$modalInstance","$translate","$timeout","data",function(a,n,e,s,t){a.header=angular.isDefined(t.header)?t.header:e.instant("DIALOGS_PLEASE_WAIT_ELIPS"),a.msg=angular.isDefined(t.msg)?t.msg:e.instant("DIALOGS_PLEASE_WAIT_MSG"),a.progress=angular.isDefined(t.progress)?t.progress:100,a.icon=angular.isDefined(t.fa)&&angular.equals(t.fa,!0)?"fa fa-clock-o":"glyphicon glyphicon-time",a.$on("dialogs.wait.complete",function(){s(function(){n.close(),a.$destroy()})}),a.$on("dialogs.wait.message",function(n,e){a.msg=angular.isDefined(e.msg)?e.msg:a.msg}),a.$on("dialogs.wait.progress",function(n,e){a.msg=angular.isDefined(e.msg)?e.msg:a.msg,a.progress=angular.isDefined(e.progress)?e.progress:a.progress}),a.getProgress=function(){return{width:a.progress+"%"}}}]),n.controller("notifyDialogCtrl",["$scope","$modalInstance","$translate","data",function(a,n,e,s){a.header=angular.isDefined(s.header)?s.header:e.instant("DIALOGS_NOTIFICATION"),a.msg=angular.isDefined(s.msg)?s.msg:e.instant("DIALOGS_NOTIFICATION_MSG"),a.icon=angular.isDefined(s.fa)&&angular.equals(s.fa,!0)?"fa fa-info":"glyphicon glyphicon-info-sign",a.close=function(){n.close(),a.$destroy()}}]),n.controller("confirmDialogCtrl",["$scope","$modalInstance","$translate","data",function(a,n,e,s){a.header=angular.isDefined(s.header)?s.header:e.instant("DIALOGS_CONFIRMATION"),a.msg=angular.isDefined(s.msg)?s.msg:e.instant("DIALOGS_CONFIRMATION_MSG"),a.icon=angular.isDefined(s.fa)&&angular.equals(s.fa,!0)?"fa fa-check":"glyphicon glyphicon-check",a.no=function(){n.dismiss("no")},a.yes=function(){n.close("yes")}}]),angular.module("dialogs.services",["ui.bootstrap.modal","dialogs.controllers"]).provider("dialogs",[function(){var a=!0,n=!0,e="dialogs-default",s=!0,t=null,l="lg",o=!1,r=function(s){var t={};return s=s||{},t.kb=angular.isDefined(s.keyboard)?s.keyboard:n,t.bd=angular.isDefined(s.backdrop)?s.backdrop:a,t.ws=angular.isDefined(s.size)&&(angular.equals(s.size,"sm")||angular.equals(s.size,"lg")||angular.equals(s.size,"md"))?s.size:l,t.wc=angular.isDefined(s.windowClass)?s.windowClass:e,t};this.useBackdrop=function(n){angular.isDefined(n)&&(a=n)},this.useEscClose=function(a){angular.isDefined(a)&&(n=angular.equals(a,0)||angular.equals(a,"false")||angular.equals(a,"no")||angular.equals(a,null)||angular.equals(a,!1)?!1:!0)},this.useClass=function(a){angular.isDefined(a)&&(e=a)},this.useCopy=function(a){angular.isDefined(a)&&(s=angular.equals(a,0)||angular.equals(a,"false")||angular.equals(a,"no")||angular.equals(a,null)||angular.equals(a,!1)?!1:!0)},this.setWindowTmpl=function(a){angular.isDefined(a)&&(t=a)},this.setSize=function(a){angular.isDefined(a)&&(l=angular.equals(a,"sm")||angular.equals(a,"lg")||angular.equals(a,"md")?a:l)},this.useFontAwesome=function(){o=!0},this.$get=["$modal",function(a){return{error:function(n,e,s){return s=r(s),a.open({templateUrl:"/dialogs/error.html",controller:"errorDialogCtrl",backdrop:s.bd,keyboard:s.kb,windowClass:s.wc,size:s.ws,resolve:{data:function(){return{header:angular.copy(n),msg:angular.copy(e),fa:o}}}})},wait:function(n,e,s,t){return t=r(t),a.open({templateUrl:"/dialogs/wait.html",controller:"waitDialogCtrl",backdrop:t.bd,keyboard:t.kb,windowClass:t.wc,size:t.ws,resolve:{data:function(){return{header:angular.copy(n),msg:angular.copy(e),progress:angular.copy(s),fa:o}}}})},notify:function(n,e,s){return s=r(s),a.open({templateUrl:"/dialogs/notify.html",controller:"notifyDialogCtrl",backdrop:s.bd,keyboard:s.kb,windowClass:s.wc,size:s.ws,resolve:{data:function(){return{header:angular.copy(n),msg:angular.copy(e),fa:o}}}})},confirm:function(n,e,s){return s=r(s),a.open({templateUrl:"/dialogs/confirm.html",controller:"confirmDialogCtrl",backdrop:s.bd,keyboard:s.kb,windowClass:s.wc,size:s.ws,resolve:{data:function(){return{header:angular.copy(n),msg:angular.copy(e),fa:o}}}})},create:function(n,e,t,l){var o=l&&angular.isDefined(l.copy)?l.copy:s;return l=r(l),a.open({templateUrl:n,controller:e,keyboard:l.kb,backdrop:l.bd,windowClass:l.wc,size:l.ws,resolve:{data:function(){return o?angular.copy(t):t}}})}}}]}]),angular.module("dialogs.main",["dialogs.services","ngSanitize"]).config(["$translateProvider","dialogsProvider",function(a,n){try{angular.module("pascalprecht.translate")}catch(e){a.translations("en-US",{DIALOGS_ERROR:"Error",DIALOGS_ERROR_MSG:"An unknown error has occurred.",DIALOGS_CLOSE:"Close",DIALOGS_PLEASE_WAIT:"Please Wait",DIALOGS_PLEASE_WAIT_ELIPS:"Please Wait...",DIALOGS_PLEASE_WAIT_MSG:"Waiting on operation to complete.",DIALOGS_PERCENT_COMPLETE:"% Complete",DIALOGS_NOTIFICATION:"Notification",DIALOGS_NOTIFICATION_MSG:"Unknown application notification.",DIALOGS_CONFIRMATION:"Confirmation",DIALOGS_CONFIRMATION_MSG:"Confirmation required.",DIALOGS_OK:"OK",DIALOGS_YES:"Yes",DIALOGS_NO:"No"})}try{var s=document.styleSheets;a:for(var t=s.length-1;t>=0;t--){var l=null,o=null;if(!s[t].disabled){if(null!==s[t].href&&(l=s[t].match(/font\-*awesome/i)),angular.isArray(l)){n.useFontAwesome();break}o=s[t].cssRules;for(var r=o.length-1;r>=0;r--)if(".fa"==o[r].selectorText.toLowerCase()){n.useFontAwesome();break a}}}}catch(e){}}]).run(["$templateCache","$interpolate",function(a,n){var e=n.startSymbol(),s=n.endSymbol();a.put("/dialogs/error.html",'<div class="modal-header dialog-header-error"><button type="button" class="close" ng-click="close()">&times;</button><h4 class="modal-title text-danger"><span class="'+e+"icon"+s+'"></span> <span ng-bind-html="header"></span></h4></div><div class="modal-body text-danger" ng-bind-html="msg"></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="close()">'+e+'"DIALOGS_CLOSE" | translate'+s+"</button></div>"),a.put("/dialogs/wait.html",'<div class="modal-header dialog-header-wait"><h4 class="modal-title"><span class="'+e+"icon"+s+'"></span> '+e+"header"+s+'</h4></div><div class="modal-body"><p ng-bind-html="msg"></p><div class="progress progress-striped active"><div class="progress-bar progress-bar-info" ng-style="getProgress()"></div><span class="sr-only">'+e+"progress"+s+e+'"DIALOGS_PERCENT_COMPLETE" | translate'+s+"</span></div></div>"),a.put("/dialogs/notify.html",'<div class="modal-header dialog-header-notify"><button type="button" class="close" ng-click="close()" class="pull-right">&times;</button><h4 class="modal-title text-info"><span class="'+e+"icon"+s+'"></span> '+e+"header"+s+'</h4></div><div class="modal-body text-info" ng-bind-html="msg"></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-click="close()">'+e+'"DIALOGS_OK" | translate'+s+"</button></div>"),a.put("/dialogs/confirm.html",'<div class="modal-header dialog-header-confirm"><button type="button" class="close" ng-click="no()">&times;</button><h4 class="modal-title"><span class="'+e+"icon"+s+'"></span> '+e+"header"+s+'</h4></div><div class="modal-body" ng-bind-html="msg"></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="yes()">'+e+'"DIALOGS_YES" | translate'+s+'</button><button type="button" class="btn btn-primary" ng-click="no()">'+e+'"DIALOGS_NO" | translate'+s+"</button></div>")}])}();